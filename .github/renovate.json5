{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',
  extends: [
    'config:recommended',
    'github>txqueuelen/.github//renovate/automerge-workflows-all.json',
  ],
  kubernetes: {
    managerFilePatterns: [
      '/\\.ya?ml$/',
    ],
  },
  customManagers: [
    {
      customType: 'regex',
      managerFilePatterns: [
        '/^.github/workflows/lint-and-test.yaml$/',
      ],
      datasourceTemplate: 'github-tags',
      depNameTemplate: 'kubernetes/{{{ project }}}',
      matchStrings: [
        ' *(?<project>.*) version: (?<currentValue>.*)',
      ],
    },
  ],
  packageRules: [
    {
      groupName: 'Kubernetes related testing dependencies',
      groupSlug: 'kubernetes-ci',
      matchDepNames: [
        '/^kubernetes/.*/',
      ],
    },
    {
      matchPackageNames: [
        'powerdns',
        'external-dns',
      ],
      matchUpdateTypes: [
        'minor',
      ],
      automerge: true,
      automergeType: 'branch',
      pruneBranchAfterAutomerge: true,
    },
  ],
}
